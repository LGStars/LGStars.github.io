<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  ﻿<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta name="theme-color" content="#222">




<script>
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="时间就像海绵里的水，只要愿挤，总还是有的。">
<meta property="og:type" content="website">
<meta property="og:title" content="LgStars">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="LgStars">
<meta property="og:description" content="时间就像海绵里的水，只要愿挤，总还是有的。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LgStars">
<meta name="twitter:description" content="时间就像海绵里的水，只要愿挤，总还是有的。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'JunBoXu'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>LgStars</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?1e0b9fbc3415438997c409b6b7c26a65";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
		

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">LgStars</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">恰同学少年，风华正茂。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/30/13_Matlab_Simulink/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JunBoXu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LgStars">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/13_Matlab_Simulink/" itemprop="url">Simulink电路仿真</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-30T09:48:00+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Matlab/" itemprop="url" rel="index">
                    <span itemprop="name">Matlab</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/30/13_Matlab_Simulink/" class="leancloud_visitors" data-flag-title="Simulink电路仿真">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
				 <span>°C</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h6 id="博客录语-—-生命之灯因热情而点燃，生命之舟因拼搏而前行。"><a href="#博客录语-—-生命之灯因热情而点燃，生命之舟因拼搏而前行。" class="headerlink" title="博客录语  —  生命之灯因热情而点燃，生命之舟因拼搏而前行。"></a>博客录语  —  生命之灯因热情而点燃，生命之舟因拼搏而前行。</h6><h2 id="Simulink入门实用"><a href="#Simulink入门实用" class="headerlink" title="Simulink入门实用"></a>Simulink入门实用</h2><h3 id="1、Simulink说明"><a href="#1、Simulink说明" class="headerlink" title="1、Simulink说明"></a>1、Simulink说明</h3><pre><code>1.1 Simulink 是MATLAB 的一个重要的工具箱，是结合了框图界面和交互仿真能力的系统级设计和仿真工具。它以MATLAB 核心数学，图形和语言为基础，可以让用户完成从算法开发，仿真或者模型验证的全过程，而不需要传递数据，重写代码或改变软件环境。
</code></pre><h3 id="2、Simulink功能和优点"><a href="#2、Simulink功能和优点" class="headerlink" title="2、Simulink功能和优点"></a>2、Simulink功能和优点</h3><pre><code>2.1 用方框图的绘制代替了程序的编写。构成任何一个系统框图有三个步骤，即选定典型环节，相互联结和给定环节参数。

2.2 仿真的建立和运行是智能化的。首先，画好了框图并存起来，Simulink自动建立一个仿真的过程；其次，在运行时用户可以不给步长，只给出要求的仿真精度，软件会自动选择能保证给定精度的最大步长，使得在给定的精度要求下系统仿真具有最快的速度。   

2.3 输入输出信号来源形式的多样化。其输入信号可以是各种信号发生器；也可以来自一个设定的记录文件；还可以来自MATLAB的工作空间（workspace）.输出信号也类似，这就扩大了仿真系统与各种外部软件和硬件的接口能力。
</code></pre><h3 id="3、Simulink模块介绍"><a href="#3、Simulink模块介绍" class="headerlink" title="3、Simulink模块介绍"></a>3、Simulink模块介绍</h3><pre><code>3.1 Sources模块介绍

    3.1.1 Step -- 阶跃函数，起始时间是第1秒而非0秒。双击step模块，对仿真起始时间(step time)和阶跃值(Initial value, Final value)的大小进行设置。

    3.1.2 Signal Generator -- 信号发生器，可以产生给定频率和幅值的正弦波(sine wave)、方波(square wave)和锯齿波(sawtooth wave)，双击图标可以设置。

    3.1.3 Clock -- 定时器，显示仿真时间，在系统仿真时打开定时器，可以看到实时的仿真时间。 

    3.1.4 Sine Wave -- 正弦波，电路中常用到的正弦信号（Sine Wave）模块，双击图标，在弹出的窗口中调整相关参数。信号生成方式有两种：Time based 和 Sample based 。

        注：
            （1）如果以Time based 方式运行该模块，则需要用户设定波形的幅度（Amplitude）、偏移（Bias）、频率（Frequency）、初相（Phase）几个参数；

            （2）如果选择Sample based方式，参数设置则为幅度（Amplitude）、偏移（Bias)、每周期采样数（Sampies per period）和偏移采样数（Number of offset samples）。

            （3）两种工作方式中的各项参数都可以用关系式加以换算：
                每周期采样数=2*pi/（频率*采样时间）
                频移采样数=初相*每周期采样数/（2*pi）

            （4）设置采样时间Sampletime ,将此参数设置为零时表示以连续的方式工作，将此参数设置为大于零的值时则以所设采样时间工作。但要注意的是采用Sample based 模式的模块式不能以连续的方式工作的。


    3.1.5 From Workspace --  从工作空间输入。从MATLAB Workspace输入已有的函数作为仿真的激励信号。首先要在MATLAB环境下建立一个时间向量和相应的函数值向量，然后将时间向量和函数值向量的名称[T, U]填入该图标的对话框中。

3.2 Math Operations模块

    3.2.1 加、减运算 在List of signs文本框中可以选择多个数的加、减法运算。在Icon shape中选择圆形或方形符号。 

    3.2.2 Gain： 增益  作为后续模块的增益系数。

3.3 Continuous模块

    3.3.1 Transfer Fcn 传递函数，设置 numerator选项，分子多项式系数的降幂排列。 Denominator选项，分母多项式系数的降幂排列。 

3.4 Sinks模块

    3.4.1 To workspace -- 输出到工作空间，功能与From Workspace正好相反，把仿真结果连同输入信号输出到工作空间去。

    3.4.2 XY示波器 -- 显示 MATLAB的图形窗口。输入曲线是以时间为横轴的绘图区域。

    3.4.3 Display -- 它的作用是将信号值直接显示在该模块的窗口中。输出信号是个直流信号时，我们就可以把它直接送到这个模块中，从模块窗口中直接读出输入信号的大小。

    3.4.4 Scope -- 示波器模块可以接受多个输入信号，每个端口的输入信号都将在一个坐标轴中显示。如果是向量或矩阵信号，则以不同的颜色表示每个元素信号；如果信号本身是离散的，则显示信号的阶梯图。
</code></pre><h3 id="4、Simulink实例"><a href="#4、Simulink实例" class="headerlink" title="4、Simulink实例"></a>4、Simulink实例</h3><pre><code>4.1 建立simulink

    ![](https://i.imgur.com/LSlsKix.png)

4.2 打开simulink库，其中关于电子器件在Simscape/Power Systems/下

4.3 建立实例

    ![](https://i.imgur.com/pumgrUG.png)

4.4 仿真完成图

    ![](https://i.imgur.com/PYpf3Z5.png)

注：在完成图后，一定要加powergui块（上图右下角）。
</code></pre>
          
        
      
    </div>
    
    
    
	
	<div>
		
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/29/12_RecyclerView/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JunBoXu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LgStars">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/29/12_RecyclerView/" itemprop="url">RecyclerView分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-29T18:25:00+08:00">
                2018-03-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/29/12_RecyclerView/" class="leancloud_visitors" data-flag-title="RecyclerView分析">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
				 <span>°C</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h6 id="博客录语-—-成功是别人失败时还在坚持。"><a href="#博客录语-—-成功是别人失败时还在坚持。" class="headerlink" title="博客录语  —  成功是别人失败时还在坚持。"></a>博客录语  —  成功是别人失败时还在坚持。</h6><h2 id="RecyclerView"><a href="#RecyclerView" class="headerlink" title="RecyclerView"></a>RecyclerView</h2><h3 id="1、RecyclerView说明"><a href="#1、RecyclerView说明" class="headerlink" title="1、RecyclerView说明"></a>1、RecyclerView说明</h3><pre><code>（1）RecyclerView是一个用来显示庞大数据集的容器，可通过保持有限数量的视图进行非常有效
    的滚动操作。

（2）如果有数据集合，其中的元素将因用户操作或网络事件而发生变化，建议使用
    RecyclerView。
</code></pre><h3 id="2、RecyclerView原理"><a href="#2、RecyclerView原理" class="headerlink" title="2、RecyclerView原理"></a>2、RecyclerView原理</h3><pre><code>（1）RecyclerView与优化后的ListView原理类似：都是仅仅维护少量的View，并且可以用来展
    示大量的数据集。
</code></pre><h3 id="3、RecyclerView使用方法"><a href="#3、RecyclerView使用方法" class="headerlink" title="3、RecyclerView使用方法"></a>3、RecyclerView使用方法</h3><pre><code>（1）使用RecyclerView需要创建一个Adapter和一个LayoutManager类。

（2）RecyclerView

    LayoutManager  →  Adapter  →  Dataset

 注：

    Adapter：使用RecyclerView之前，需要继承一个RecyclerView.Adapter的适配器，作用是将数据与每个item的界面进行绑定。

    LayoutManager：用来确定每一个item如何进行排列摆放，何时展示和隐藏。回收或重用一个view时，LayoutManager会向适配器请求新的数据来替换旧的数据，这种机制避免了创建过多的view和频繁的调用findviewbyid方法（与listview优化后的原理类似）。

（3）RecyclerView提供了下面3种内置的布局管理器（LayoutManager）。

    （1）LinearLayoutManager以垂直或水平滚动列表方式显示项目。

    （2）GridLayoutManager表格布局，效果类似GridView。

    （3）StaggeredGridLayoutManager流式布局，例如瀑布流效果，当然还可以继承RecyclerView.LayoutManager来实现一个自定义的LayoutManager。
</code></pre><h3 id="4、RecyclerView实用例程"><a href="#4、RecyclerView实用例程" class="headerlink" title="4、RecyclerView实用例程"></a>4、RecyclerView实用例程</h3><pre><code>4.1 添加依赖

    （1）使用RecyclerView需要在App/build.gradle中添加依赖，然后同步一下。

        `dependencies {
                compile fileTree(include: [&apos;*.jar&apos;], dir: &apos;libs&apos;)
                androidTestCompile(&apos;com.android.support.test.espresso:espresso-core:2.2.2&apos;, {
                    exclude group: &apos;com.android.support&apos;, module: &apos;support-annotations&apos;
                })
                compile &apos;com.android.support:appcompat-v7:26.0.0-alpha1&apos;
                testCompile &apos;junit:junit:4.12&apos;
                compile &apos;com.android.support:recyclerview-v7:26.0.0-alpha1&apos;
            }`

4.2 编写代码

    （1）在xml中创建一个RecyclerView的布局。

        `&lt;android.support.v7.widget.RecyclerView
            android:id=&quot;@+id/recycler_view&quot;
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;match_parent&quot;
            android:scrollbars=&quot;vertical&quot;/&gt;`

    （2）创建完之后在Activity中获取这个RecyclerView，并声明LayoutManager与Adapter。

            `RecyclerView recyclerView = (RecyclerView)     findViewById(R.id.recycler_view);
             initDatas();
             RecyclerView.LayoutManager LayoutManager = new LinearLayoutManager(this);
             recyclerView.setLayoutManager(LayoutManager);
             //如果每个item的高度的固定的，设置这个选项可以提高性能
             recyclerView.setHasFixedSize(true);
             MyAdapter adapter = new MyAdapter(datas);
             recyclerView.setAdapter(adapter);`

    （3）RecyclerView与listview一样，也是需要适配器的，但是，RecyclerView需要设置布局管理器的，这是为了方便扩展，这里使用了LinearLayoutManager，其中Adapter的创建比较关键。

        `package com.note.recyclerview;
            public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {

                private List&lt;String&gt; datas = null;

                public MyAdapter(List&lt;String&gt; datas){
                    this.datas = datas;
                }

                /**
                 * 创建View,被LayoutManager所调用
                 * @param parent
                 * @param viewType
                 * @return
                 */
                @Override
                public MyAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {

                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());
                    //把布局换成view对象，参数1布局，参数2父容器，参数3是否主动挂载到父容器上
                    View view = inflater.inflate(R.layout.item,parent,false);
                    ViewHolder vh = new ViewHolder(view);

                    return vh;
                }

                /**
                 * 将界面与数据进行绑定
                 * @param holder
                 * @param position
                 */
                @Override
                public void onBindViewHolder(ViewHolder holder, int position) {
                    holder.mTextview.setText(datas.get(position));
                }

                /**
                 * 获取数据的数量
                 * @return
                 */
                @Override
                public int getItemCount() {
                    return datas.size();
                }

                /**
                 * 自定义的ViewHolder，持有每个item的所有界面元素
                 */
                public static class ViewHolder extends RecyclerView.ViewHolder {
                    private TextView mTextview;
                    public ViewHolder(View itemView) {
                        super(itemView);
                        mTextview = itemView.findViewById(R.id.text_view);
                    }
                }
            }
            `    
    （4）MyAdapter继承RecyclerView.Adapter，需要一个ViewHolder的泛型，强制必须建立一个ViewHolder，创建一个ViewHolder并继承RecyclerView.ViewHolder,ViewHolder构造方法需要传递View对象，View对象会和ViewHolder进行绑定。

4.3 效果图

    ![](https://i.imgur.com/tz1wKXn.png)
</code></pre><h3 id="5、RecyclerView实用扩展"><a href="#5、RecyclerView实用扩展" class="headerlink" title="5、RecyclerView实用扩展"></a>5、RecyclerView实用扩展</h3><pre><code>5.1 横向布局

    （1）如果想要一个横向的布局列表，只要设置LinearLayoutManager就行，注意，要声明LayoutManager的类型是LinearLayoutManager，而不是父类的LayoutManager:

        `LinearLayoutManager LayoutManager = new LinearLayoutManager(this);
        LayoutManager.setOrientation(LinearLayoutManager.HORIZONTAL);`

    （2）如果要显示滚动条，需要在布局中修改RecyclerView属性，把滚动的的方向改为水平方向：

        `android:scrollbars=&quot;horizontal&quot;`

5.2 Grid布局

    （1）代码：
        `GridLayoutManager LayoutManager = new GridLayoutManager(this,3);`

    （2）效果图：

    ![](https://i.imgur.com/q4kJo6P.png)

5.3 瀑布流布局

    （1）瀑布流使用 StaggeredGridLayoutManager：

        `StaggeredGridLayoutManager LayoutManager =
            new StaggeredGridLayoutManager(3,StaggeredGridLayoutManager.VERTICAL);`

    （2）如果第二个参数传入StaggeredGridLayoutManager.VERTICAL，那么第一个参数代表有多少列，反之亦然；

    （3）效果图：

    ![](https://i.imgur.com/2ZI7hPx.png)
</code></pre>
          
        
      
    </div>
    
    
    
	
	<div>
		
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/28/11_GridView/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JunBoXu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LgStars">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/28/11_GridView/" itemprop="url">GridView分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-28T14:09:00+08:00">
                2018-03-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/28/11_GridView/" class="leancloud_visitors" data-flag-title="GridView分析">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
				 <span>°C</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h6 id="博客录语-—-凡事要三思，但比三思更重要的是三思而行。"><a href="#博客录语-—-凡事要三思，但比三思更重要的是三思而行。" class="headerlink" title="博客录语  —  凡事要三思，但比三思更重要的是三思而行。"></a>博客录语  —  凡事要三思，但比三思更重要的是三思而行。</h6><h2 id="GridView分析"><a href="#GridView分析" class="headerlink" title="GridView分析"></a>GridView分析</h2><blockquote>
<p>ListView一般用于列表项的展示，GridView一般用于制作某些选项按钮上，常见的九宫格就可以用<br>GridView来实现。</p>
</blockquote>
<p>|| <em>属性</em> || <em>相关方法</em> || <em>说明</em> ||</p>
<p>|| android:columnWidth=”” || setColumnWidth(int) || 设置列的宽度 ||</p>
<p>|| android:horizontalSpacing=”” || setHorizontalSpacing(int) || 定义列之间的水平间距 ||</p>
<p>|| android:numColumns=”” || setNumColumns(int) || 设置列数 ||</p>
<p>|| android:verticalSpacing=”” || setVerticalSpacing(int) || 定义行之间默认的垂直间距 ||</p>
<p>|| android:stretchMode=””  || setStretchMode() || 缩放模式 ||</p>
<pre><code>（1）代码

    ` setContentView(R.layout.activity_main);

    grid_view = (GridView) findViewById(R.id.grid_view);

    //初始化数据
    initDatas();

    final NumberAdapter adapter = new NumberAdapter(this,R.layout.item_list,numberList);

    grid_view.setAdapter(adapter);`

（2）图片

    ![](https://i.imgur.com/9spNZPg.png)
</code></pre>
          
        
      
    </div>
    
    
    
	
	<div>
		
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/28/10_listview分析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JunBoXu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LgStars">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/28/10_listview分析/" itemprop="url">ListView分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-28T08:30:00+08:00">
                2018-03-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/28/10_listview分析/" class="leancloud_visitors" data-flag-title="ListView分析">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
				 <span>°C</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h6 id="博客录语-—-每一日你所付出的代价都比前一日高，因为你的生命又消短了一天，所以每一日你都要更用心。"><a href="#博客录语-—-每一日你所付出的代价都比前一日高，因为你的生命又消短了一天，所以每一日你都要更用心。" class="headerlink" title="博客录语  —  每一日你所付出的代价都比前一日高，因为你的生命又消短了一天，所以每一日你都要更用心。"></a>博客录语  —  每一日你所付出的代价都比前一日高，因为你的生命又消短了一天，所以每一日你都要更用心。</h6><h2 id="一、ListView分析"><a href="#一、ListView分析" class="headerlink" title="一、ListView分析"></a>一、ListView分析</h2><blockquote>
<p>listview的设计理念，采用适配器设计模式，让数据和界面分离，更利于扩展和维护。</p>
</blockquote>
<h3 id="listview的组成"><a href="#listview的组成" class="headerlink" title="listview的组成"></a>listview的组成</h3><p>1、listview控件。</p>
<p>2、适配器类，用到了设计模式中的适配器模式，它是视图和数据之间的桥梁，负责提供对数据的访问，生成每一个列表项对应的view。</p>
<pre><code>常用的的模式：

        （1）ArrayAdapter

        （2）SimpleAdapter

        （3）BaseAdapter
</code></pre><p>3、数据源。</p>
<h4 id="核心代码"><a href="#核心代码" class="headerlink" title="核心代码"></a>核心代码</h4><pre><code>（1）代码

`String[] datas = {&quot;第一&quot;,&quot;第二&quot;,&quot;第二&quot;,&quot;第二&quot;,&quot;第二&quot;,&quot;第二&quot;,&quot;第二&quot;,&quot;第二&quot;,
        &quot;第二&quot;,&quot;第二&quot;,&quot;第四&quot;,&quot;第二&quot;,&quot;第二&quot;,&quot;第二&quot;,&quot;第二&quot;,&quot;第二&quot;,&quot;第三&quot;,
        &quot;第二&quot;,&quot;第二&quot;,&quot;第五&quot;,};`

`listview = (ListView) findViewById(R.id.listview);

    ArrayAdapter adapter = new ArrayAdapter(this,android.R.layout.simple_list_item_1,datas);

    listview.setAdapter(adapter);`

（2）效果图

![](https://i.imgur.com/9ssFaZi.png)
</code></pre><h2 id="二、定制ListView效果图"><a href="#二、定制ListView效果图" class="headerlink" title="二、定制ListView效果图"></a>二、定制ListView效果图</h2><blockquote>
<p>多功能展示UI。</p>
</blockquote>
<blockquote>
<p>字符串类型已经不能满足我们的要求了，需要定义一个实体类，作为listview的适配器的适配类型（也就是数据）。</p>
</blockquote>
<p>1、首先定义一个Number实体类</p>
<pre><code>`public class Number {
    private String number;
    private int imageId;

    public int getImageId() {
        return imageId;
    }
    public String getNumber() {
        return number;
    }
    public Number(String number,int imageId){
        this.number = number;
        this.imageId = imageId;
    }
}`
</code></pre><p>2、自定义一个适配器NumberAdapter，这个适配器继承ArrayAdapter，并将泛指指定为Number类。</p>
<pre><code>`public class NumberAdapter extends ArrayAdapter {

    int resourceId;
    public NumberAdapter(Context context, int resource, List objects) {
        super(context, resource, objects);
        resourceId = resource;//记录布局资源的Id
    }
    //position是当前的位置，从0开始计数
    public View getView(int position, View convertView, ViewGroup parent){

        Number number = (Number) getItem(position);//获取当前条目的数据实例
        //把xml换成view对象
        View view = View.inflate(getContext(),resourceId,null);
        ImageView imageView = view.findViewById(R.id.iv_flag);
        TextView textView = view.findViewById(R.id.tv_name);
        //设置数据
        imageView.setImageResource(number.getImageId());
        textView.setText(number.getNumber());
        return view;
    }
}`

注：NumberAdapter重写了父类的构造函数，用于将上下文、ListView子项的布局ID和数据传递进来。另外重写了getview（）方法，这个方法在每个子项滚出屏幕内时会被调用。
</code></pre><blockquote>
<p>现在我们做好了适配器（相当于系统自带的ArrayAdapter）。</p>
</blockquote>
<p>3、下面在MainActivity中开始应用。</p>
<pre><code>（1）代码

`public class MainActivity extends AppCompatActivity {

    private ListView listview;

    private List&lt;Number&gt; numberList = new ArrayList&lt;&gt;();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        listview = (ListView) findViewById(R.id.list_view);

        //初始化数据
        initDatas();

        NumberAdapter adapter = new NumberAdapter(this,R.layout.item_list,numberList);

        listview.setAdapter(adapter);
    }

    private void initDatas() {
        numberList.add(new Number(&quot;1&quot;,R.mipmap.ic_launcher));
        numberList.add(new Number(&quot;1&quot;,R.mipmap.ic_launcher));
        numberList.add(new Number(&quot;5&quot;,R.mipmap.ic_launcher));
        numberList.add(new Number(&quot;4&quot;,R.mipmap.ic_launcher));
        numberList.add(new Number(&quot;2&quot;,R.mipmap.ic_launcher));
        numberList.add(new Number(&quot;3&quot;,R.mipmap.ic_launcher));



    }
}`

（2）图片

![](https://i.imgur.com/9d8miqL.png)
</code></pre><h2 id="三、优化ListView"><a href="#三、优化ListView" class="headerlink" title="三、优化ListView"></a>三、优化ListView</h2><blockquote>
<p>NumberAdapter的getView()方法中每次都会把布局重新加载一遍，当listview快速滑动时就会发现<br>程序卡顿甚至奔溃。</p>
</blockquote>
<blockquote>
<p>仔细观察，getView()方法还有一个convertView参数，这个参数用于将之前加载好的布局进行缓<br>存，以便以后可以重新引用。</p>
</blockquote>
<pre><code>`View view;
    Number number = (Number) getItem(position);//获取当前条目的数据实例
    if (convertView == null){
        //把xml换成view对象
        view = View.inflate(getContext(),resourceId,null);
    }else {
        view = convertView;
    }
    ImageView imageView = view.findViewById(R.id.iv_flag);
    TextView textView = view.findViewById(R.id.tv_name);
    //设置数据
    imageView.setImageResource(number.getImageId());
    textView.setText(number.getNumber());
    return view;`
</code></pre><blockquote>
<p> 但是这份代码是可以继续优化的，无论是通过inflate()可以加载布局，还是复用convertView，都<br> 会调用findviewbyid()方法去初始化控件，这步操作也是可以复用的。</p>
</blockquote>
<blockquote>
<p>创建一个内部类ViewHolder,继续优化代码。</p>
</blockquote>
<pre><code>`public class NumberAdapter extends ArrayAdapter {

    int resourceId;
    public NumberAdapter(Context context, int resource, List objects) {
        super(context, resource, objects);
        resourceId = resource;//记录布局资源的Id
    }
    //position是当前的位置，从0开始计数
    public View getView(int position, View convertView, ViewGroup parent){
        View view;

        ViewHolder viewHolder = null;
        Number number = (Number) getItem(position);//获取当前条目的数据实例
        if (convertView == null){

            viewHolder = new ViewHolder();

            //把xml换成view对象
            view = View.inflate(getContext(),resourceId,null);
            viewHolder.imageView = view.findViewById(R.id.iv_flag);
            viewHolder.textView = view.findViewById(R.id.tv_name);
            view.setTag(viewHolder);//将viewHolder保存在view对象中
        }else {
            view = convertView;
            viewHolder = (ViewHolder) view.getTag();
        }
        //设置数据
        viewHolder.imageView.setImageResource(number.getImageId());
        viewHolder.textView.setText(number.getNumber());
        return view;
    }

    static class ViewHolder{
        ImageView imageView;
        TextView textView;
    }
}`
</code></pre><blockquote>
<p>当convertView为空时，创建一个viewHolder对象，并将空间的实例都存放在viewHolder中，然后<br>调用了View的setTag()方法，将viewHolder存放在View中。</p>
</blockquote>
<blockquote>
<p>当convertView不为空时，把viewHolder取出来。这样所有的控件的实例都缓存在了viewHolder<br>中。</p>
</blockquote>
<h2 id="四、ListView点击事件"><a href="#四、ListView点击事件" class="headerlink" title="四、ListView点击事件"></a>四、ListView点击事件</h2><blockquote>
<p>点击返回条目位置</p>
</blockquote>
<pre><code>`/**
     * adapterView  指的是listview
     * view    指的是被点击的条目
     * i 条目的位置
     * L id如果adapter继承arrayadapter，则l与i相同
     */
    listview.setOnItemClickListener(new AdapterView.OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {
            Toast.makeText(MainActivity.this,&quot;position:&quot; + i,Toast.LENGTH_SHORT).show();
        }
    });`
</code></pre><blockquote>
<p>除了条目的点击事件，listview还可以设置条目的长按设置</p>
</blockquote>
<pre><code>`/**
     * adapterView  指的是listview
     * view    指的是被点击的条目
     * i 条目的位置
     * L id如果adapter继承arrayadapter，则l与i相同
     */
    listview.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {
        @Override
        public boolean onItemLongClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {
            numberList.remove(i);//删除长按位置的数据
            adapter.notifyDataSetChanged();//刷新listview界面
            return true;
            //return false;
        }
    });`
</code></pre><blockquote>
<p>但是这个有一个返回值，代表是否消费掉这个事件。</p>
</blockquote>
<blockquote>
<p>当返回值为false时，处理完条目的长按事件，还会处理条目的点击事件</p>
</blockquote>
<blockquote>
<p>当返回值为true时，则表示处理完条目的长按事件，不会再处理条目的点击事件了</p>
</blockquote>
<h2 id="五、ListView常用属性"><a href="#五、ListView常用属性" class="headerlink" title="五、ListView常用属性"></a>五、ListView常用属性</h2><blockquote>
<p>android:divider 设置分割线的颜色或者指定分割线的图片</p>
</blockquote>
<blockquote>
<p>android:dividerHeight 设置分割线的高度</p>
</blockquote>
<blockquote>
<p>android:scrollbars=”none” 隐藏滚动条</p>
</blockquote>

          
        
      
    </div>
    
    
    
	
	<div>
		
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-图片特效、Matric" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/19/9_图片特效/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JunBoXu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LgStars">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/19/9_图片特效/" itemprop="url">图片特效、Matrix</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-19T19:55:00+08:00">
                2018-03-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/19/9_图片特效/" class="leancloud_visitors" data-flag-title="图片特效、Matrix">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
				 <span>°C</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="图片特效、Matric"><a href="#图片特效、Matric" class="headerlink" title="图片特效、Matric"></a>图片特效、Matric</h2><blockquote>
<p>图片的特效包括图形的缩放、镜面、倒影、旋转、位移等。</p>
</blockquote>
<blockquote>
<p>图片的特效是将原图的图形矩阵乘以一个特效矩阵，形成一个新的图形矩阵来实现的。</p>
</blockquote>
<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3>
          
        
      
    </div>
    
    
    
	
	<div>
		
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-Android图片、水印" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/19/8_图片加水印/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JunBoXu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LgStars">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/19/8_图片加水印/" itemprop="url">图片加水印</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-19T19:20:00+08:00">
                2018-03-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/19/8_图片加水印/" class="leancloud_visitors" data-flag-title="图片加水印">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
				 <span>°C</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="图片加水印"><a href="#图片加水印" class="headerlink" title="图片加水印"></a>图片加水印</h2><blockquote>
<p>Android提供两个类：Canvas 和 Paint:</p>
</blockquote>
<blockquote>
<p>Canvas 画画板，用于绘制各种图形（点、线、圆、矩形等）。</p>
</blockquote>
<blockquote>
<p>Paint 画笔，和Canvas搭配使用，用于制定各种绘制的颜色、线条的粗细、过渡、渐变等效果。</p>
</blockquote>
<h3 id="获取图片"><a href="#获取图片" class="headerlink" title="获取图片"></a>获取图片</h3><pre><code>`File file = new File(Environment.getExternalStorageDirectory(),name);
    if (!file.exists()) return;

    BitmapFactory.Options ops = new BitmapFactory.Options();
    ops.inJustDecodeBounds = true;

    BitmapFactory.decodeFile(file.getAbsolutePath(),ops);
    int imagewidth = ops.outWidth;
    int imageHeight = ops.outHeight;

    Display display = getWindowManager().getDefaultDisplay();
    DisplayMetrics dm = new DisplayMetrics();
    display.getMetrics(dm);
    int screenwidth = dm.widthPixels;
    int screenHeight = dm.heightPixels;

    int scalewidth = imagewidth / screenwidth;
    int scaleheight = imageHeight / screenHeight;

    int scale = scalewidth &gt; scaleheight ? scalewidth : scaleheight;

    ops.inJustDecodeBounds = false;
    ops.inSampleSize = scale;

    Bitmap bm = BitmapFactory.decodeFile(file.getAbsolutePath(),ops);

    imageview.setImageBitmap(bm);`
</code></pre><h3 id="在图片上写文字"><a href="#在图片上写文字" class="headerlink" title="在图片上写文字"></a>在图片上写文字</h3><pre><code>`Bitmap new_bitmap = Bitmap.createBitmap(bm.getWidth(),bm.getHeight(), Bitmap.Config.ARGB_8888);

    Canvas canvas = new Canvas(new_bitmap);
    canvas.drawBitmap(bm,0,0,null);
    Paint paint = new Paint();
    paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DARKEN));
    paint.setTextSize(50);
    paint.setColor(Color.RED);
    canvas.drawText(&quot;徐军波&quot;,100,100,paint);
    imageview.setImageBitmap(new_bitmap);`
</code></pre><h3 id="在图片上添加水印"><a href="#在图片上添加水印" class="headerlink" title="在图片上添加水印"></a>在图片上添加水印</h3><pre><code>`Bitmap new_bitmap = Bitmap.createBitmap(bm.getWidth(),bm.getHeight(), Bitmap.Config.ARGB_8888);
    Bitmap logo = BitmapFactory.decodeResource(getResources(),R.mipmap.ic_launcher);

    Canvas canvas = new Canvas(new_bitmap);
    canvas.drawBitmap(bm,0,0,null);
    Paint paint = new Paint();
    paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DARKEN));
    canvas.drawBitmap(logo,500,500,paint);
    imageview.setImageBitmap(new_bitmap);`
</code></pre><h3 id="Canvas介绍"><a href="#Canvas介绍" class="headerlink" title="Canvas介绍"></a>Canvas介绍</h3><pre><code>1 Canvas drawCircle() 绘制圆形

2 Canvas drawArc() 绘制弧形

3 Canvas drawLine() 绘制线

4 Canvas drawRect() 绘制矩形

5 Canvas drawPath() 绘制自定义路径

6 Canvas drawRoundRect() 绘制圆角矩形
</code></pre>
          
        
      
    </div>
    
    
    
	
	<div>
		
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-Android" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/19/7_大图的加载/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JunBoXu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LgStars">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/19/7_大图的加载/" itemprop="url">大图的加载</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-19T19:05:00+08:00">
                2018-03-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/19/7_大图的加载/" class="leancloud_visitors" data-flag-title="大图的加载">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
				 <span>°C</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="大图的加载"><a href="#大图的加载" class="headerlink" title="大图的加载"></a>大图的加载</h2><blockquote>
<p>现在的android手机内存很大，但是单独一个应用程序只能使用很少的一部分，具体大小和手机有关。</p>
</blockquote>
<blockquote>
<p>在加载图片时，需要的内存空间不是按图片的大小来算的，而是按像素点的多小来计算的。</p>
</blockquote>
<blockquote>
<p>当一个图片加载手机当中去时，需要把每个像素点都加载到内存中。所以对内存的要求很高。一不小心就会造成OOM（Out Of MemoryError）内存溢出的致命错误。</p>
</blockquote>
<h3 id="1-原理"><a href="#1-原理" class="headerlink" title="1 原理"></a>1 原理</h3><pre><code>1 当前有一张图片，大小仅为1M，但是其规格为3648*2736，现在需要加载此图片的总像素点 = 

3648*2736 = 9980928；

2 常用的位图压缩方式：

    - ARGB_8888：4byte
    - RGB_565 : 2byte
    - ARGB_4444 : 2byte

3 假设现在采用ARGB_4444方式，图片占用空间 = 总像素点 * 像素单位 = 9980928 * 2byte = 19961856byte = 19MB.(这就会造成内存溢出)
</code></pre><h3 id="2-实现大图的缩放加载"><a href="#2-实现大图的缩放加载" class="headerlink" title="2 实现大图的缩放加载"></a>2 实现大图的缩放加载</h3><pre><code>`private void loadImage() {
    //找到文件地址
    File file = new File(Environment.getExternalStorageDirectory(),name);
    //定义bitmap
    if (!file.exists()) return;
    BitmapFactory.Options ops = new BitmapFactory.Options();

    ops.inJustDecodeBounds = true;
    BitmapFactory.decodeFile(file.getAbsolutePath(),ops);

    int imageWidth = ops.outWidth;
    int imageHeight = ops.outHeight;

    Display display = getWindowManager().getDefaultDisplay();
    DisplayMetrics displayMetrics = new DisplayMetrics();
    display.getMetrics(displayMetrics);
    int scresswidth = displayMetrics.widthPixels;
    int scressHeight = displayMetrics.heightPixels;

    int widthscale = imageWidth / scresswidth;
    int heightscale = imageHeight / scressHeight;
    int scale = widthscale &gt; heightscale ? widthscale : heightscale;

    ops.inJustDecodeBounds = false;
    ops.inSampleSize = scale;

    Bitmap bp = BitmapFactory.decodeFile(file.getAbsolutePath(),ops);
    imageview.setImageBitmap(bp);
}`
</code></pre>
          
        
      
    </div>
    
    
    
	
	<div>
		
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-C" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/18/6_国考二级---指针篇/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JunBoXu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LgStars">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/18/6_国考二级---指针篇/" itemprop="url">指针</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-18T17:17:03+08:00">
                2018-03-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C编程/" itemprop="url" rel="index">
                    <span itemprop="name">C编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/18/6_国考二级---指针篇/" class="leancloud_visitors" data-flag-title="指针">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
				 <span>°C</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-关于地址和指针"><a href="#1-关于地址和指针" class="headerlink" title="1 关于地址和指针"></a>1 关于地址和指针</h3><blockquote>
<h4 id="真考链接"><a href="#真考链接" class="headerlink" title="真考链接"></a>真考链接</h4></blockquote>
<blockquote>
<p>指针用于存放其他数据的地址</p>
</blockquote>
<blockquote>
<p>当指针指向变量时，利用指针可以指向该变量</p>
</blockquote>
<blockquote>
<p>当指针指向数组时，利用指针可以访问数组元素</p>
</blockquote>
<blockquote>
<p>当指针指向数组函数时，此时指针变量中存放的是函数的入口地址，可以通过指针调用该函数</p>
</blockquote>
<blockquote>
<p>当指针指向结构时，可以用指针引用结构变量的成员</p>
</blockquote>
<p>1.1 地址：相当于每个变量的房间号。</p>
<p>1.2 内存大小：</p>
<pre><code>（1）int 2个字节

（2）char 1个字节

（3）float 4个字节

（4）double 8个字节
</code></pre><p>1.3 指针：</p>
<pre><code>（1）在C语言中对变量进行存取操作，实际上也就是直接对变量的地址存储单元进行操作，这种方式叫做“直接存取”。

（2）间接存取：即将变量的地址存放在另一种类型的变量中，从而通过这种新的变量类型来得到变量的值。

（3）通过地址能找到所需的变量单元，可以说：地址“指向”该变量单元。

（4）在C语言中，将地址形象的称为“地址”，意思是通过它能找到以它为地址的的内存单元，这里包含一个方向指向的意思。

（5）一个变量的地址称为变量的“指针”。一个专门用来存放另一个变量的地址的变量（即指针），则称它为“指针变量”。
</code></pre><h3 id="2-变量的指针和指向变量的指针变量"><a href="#2-变量的指针和指向变量的指针变量" class="headerlink" title="2 变量的指针和指向变量的指针变量"></a>2 变量的指针和指向变量的指针变量</h3><p>2.1 指针变量的定义和引用</p>
<pre><code>（1）类型名 *指针变量名，...；例如：int *p;

（2）*（星号）只是一个类型说明符。
</code></pre><p>2.2 指针变量的引用</p>
<pre><code>（1）指针变量中只能存放地址（指针），将一个整型变量（或者任何其他非地址类型的数据）赋给一个指针变量是不被允许的。

（2）int *p;
    p = 300;(不合法的赋值)

（3）给一个指针赋空值：q = NULL 或 q = &apos;\0&apos; 或 q = 0；
</code></pre><p>2.3 指针变量作为函数参数</p>
<blockquote>
<p>如果想要通过函数调用从而得到n个想要改变的值，可以采用以下方法：</p>
</blockquote>
<pre><code>（1）在主函数里面设n个变量，分别用n个指针变量指向它们。

（2）然后将各个指针变量作为实参，即将n个变量的地址传递给所调用函数的形参。

（3）通过形参指针变量的改变，从而改变这n个变量的值。

（4）主函数就可以使用这些改变了的值的变量。

注意：形参指针变量的值不能使实参指针变量的值发生改变。
</code></pre><h3 id="3-数组和指针"><a href="#3-数组和指针" class="headerlink" title="3 数组和指针"></a>3 数组和指针</h3><blockquote>
<p>所谓的数组的指针是指数组的起始地址，数组元素的指针是各个数组元素的地址。</p>
</blockquote>
<p>3.1 移动指针</p>
<pre><code>（1）移动指针是指当指针变量指向一串连续的存储单元时，对指针变量进行加减运算，或者通过赋值运算，是指针变量指向相邻的存储单元。
</code></pre><p>3.2 指向数组元素的指针和通过指针引用数组的元素</p>
<pre><code>（1）指向数组元素的指针：

    int c[10] = {0};
    int *p;
    p = c;

    则语句p = c;与语句p = &amp;c[0];是等价的。

（2）通过指针引用数组元素：

    如果指针变量p已经指向数组中的一个元素，则p+1指向同数组中的下一个元素（而不是将p的值简单加1），这里的加1是指增加一个长度单位（与数组基类型所占存储单元相同）。
</code></pre><p>3.3 用函数名作为函数参数</p>
<blockquote>
<p>数组名可以用作函数的形参和实参。</p>
</blockquote>
<pre><code>(1)当数组名作为参数被传递时，如果行参数组各元素发生了变化，则原实参数各元素的值也发生变化。

解析1：当数组名作为实参时，在调用函数时是把数组的首地址传递给形参，因此实参数组和形参数组共占一段内存单元。

解析2：如果用数组元素作为实参的情况就与变量作为实参一样，是“值传递方式”，单向传递。

（2）比较：

实参类型        要求形参的类型            传递的信息        通过函数调用参数改变实参的值

变量名            变量名                    变量的值        不可以

数组名            数组名或指针变量        数组的起始地址        可以
</code></pre>
          
        
      
    </div>
    
    
    
	
	<div>
		
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/17/5_View分析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JunBoXu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LgStars">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/17/5_View分析/" itemprop="url">View的分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-17T15:47:00+08:00">
                2018-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/17/5_View分析/" class="leancloud_visitors" data-flag-title="View的分析">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
				 <span>°C</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="界面的搭建"><a href="#界面的搭建" class="headerlink" title="界面的搭建"></a>界面的搭建</h2><blockquote>
<p>面向对象语言中有一种说法叫做万物皆对象，就像Java语言中，所有的类都是Object的子类。</p>
</blockquote>
<blockquote>
<p>在Android中，所能看到的全部控件都是View和它的子类展示的。</p>
</blockquote>
<h3 id="1-属性分析"><a href="#1-属性分析" class="headerlink" title="1 属性分析"></a>1 属性分析</h3><pre><code>（1）android：gravity - 表示控件里面的元素对齐方式。

（2）padding和margin用法一样，只不过margin是元素外边距，padding是内边距（元素的内部）。

（3）scaleType是缩放的方式，默认就是fitCenter，表示图片会填充控件，不会让图片变形，并且居中显示。

（4）android：scaleType=&quot;centerCrop&quot;，以填满整个imageview为目的，等比例放大。

（5）android：scaleType=&quot;fitXY&quot;，图片填充控件，但是允许图片拉伸。

（6）android：scaleType=&quot;center&quot;，居中显示，超过剪切。

（7）android：scaleType=&quot;matrix&quot;，不改变原图大小，从imageview左上角开始绘制原图。

（8）android：scaleType=&quot;fitStart&quot;把原图按比例放大（缩小）到imageview的高度，显示在imageview的上部分位置。

（9）android：scaleType=&quot;centerInside&quot;以原图完全显示为目的，将图片内容完整居中显示，通过按比例缩小原图的size宽（高）等于或者小于imageview的高（宽）。
</code></pre><h3 id="2-布局介绍"><a href="#2-布局介绍" class="headerlink" title="2 布局介绍"></a>2 布局介绍</h3><blockquote>
<p>Android的图形用户界面是由多个View和ViewGroup构建出来的。ViewGroup也是view的子类，是一个特殊的View。并且ViewGroup的不可见的。</p>
</blockquote>
<pre><code>（1）LinearLayout - 线性布局

（2）RelativeLayout - 相对布局

（3）FrameLayout - 帧布局

（4）GridLayout - 网格布局

（5）CoordinatorLayout - 材料设计引入的（处理各个子view之间的相互依赖关系）

（6）ConstraintLayout - 约束布局

（7）TableLayout - 表格布局（不常见）

（8）AbsoluteLayout - 绝对布局（基本废弃）
</code></pre><h3 id="3-零碎知识"><a href="#3-零碎知识" class="headerlink" title="3 零碎知识"></a>3 零碎知识</h3><blockquote>
<p>没有系统归类</p>
</blockquote>
<p>3.1 修改Toast的位置</p>
<pre><code>（1）方法一：setGravity(int gravity,int xOffset,int yOffset) - 3个参数分别是（起点位置，水平偏移量，垂直偏移量）。

（2）方法二：setMargin(float horizontalMargin,float verticalMargin) - 以纵向和横向的百分比设置显示位置，参数均为float类型。
</code></pre><p>3.2 自定义Toast布局</p>
<blockquote>
<p>private void showToast(){</p>
<pre><code>Toast toast = new Toast(this);
ImageView imageview  = new ImageView(this);
imageview.setImageResource(R.mipmap.ic_launcher);
LinearLayout linear = new LinearLayout(this);
linear.setOrientation(LinearLayout.HORIZONTAL);
linear.addView(imageview);
toast.setView(linear);
toast.setDuration(Toast.LENGTH_SHORT);
toast.show();
</code></pre><p>}</p>
</blockquote>
<p>3.3 内存泄漏</p>
<blockquote>
<p>Toast.makeText(MainActivity.this,”Hello”,Toast.LENGTH_SHORT).show();</p>
</blockquote>
<pre><code>（1）--该回收的内存由于各种原因没有被回收，还驻留在内存中。

（2）原因：如果在Toast消失之前，Toast持有了当前的activity，而此时，用户点击了返回键，导致activity无法被GC销毁，这个activity就引起了内存泄漏。

（3）解决：所有和当前无关的activity的Context都可以传进去。例如：Toast.makeText(getApplicationContext(),&quot;Hello&quot;,Toast.LENGTH_SHORT).show();
</code></pre><p>3.4 Snackbar</p>
<blockquote>
<p>Toast缺点在于不能和用户互交，而Material Design包中的SnaCKBar完美解决了这个问题。<br>先添加包 - compile ‘com.android.support:design:26.0.0-alpha1’</p>
</blockquote>
<blockquote>
<p>btn_show = (Button) findViewById(R.id.button);</p>
<pre><code> btn_show.setOnClickListener(new View.OnClickListener() {
    @Override
     public void onClick(View view) {
        Snackbar.make(view,&quot;消息已发出&quot;,Snackbar.LENGTH_SHORT).setAction&gt; &gt; (&quot;撤回&quot;, new View.OnClickListener() {
             @Override
             public void onClick(View view) {
                 Toast.makeText(getApplicationContext(),&quot;已撤回&quot;,Toast.LENGTH_SHORT).show();
             }
         }).show();
     }
});
</code></pre></blockquote>
<p>3.5 使用Lambda表达式代替匿名内部类</p>
<blockquote>
<p>原先使用的代码式：</p>
<p>btn_show = (Button) findViewById(R.id.button);</p>
<pre><code>btn_show.setOnClickListener(new View.OnClickListener() {
    @Override
    public void onClick(View view) {
        showToast();
    }
});
</code></pre></blockquote>
<blockquote>
<p>转换之后的代码式：</p>
<p>btn_show.setOnClickListener(v -&gt; showToast());</p>
</blockquote>
<p>3.6 使用方式：在app/build.gradle脚本中添加如下代码:</p>
<blockquote>
<p>compileOptions {<br>       sourceCompatibility 1.8<br>       targetCompatibility 1.8<br>   }</p>
</blockquote>
<pre><code>注意：在android studio 2.2后需加入

defaultConfig {
    jackOptions{
        //打开Jack编译器
        enabled true
    }
</code></pre><p>3.7 如果代码需要混淆，需要在proguard-rules.pro文件中添加如下配置，否则混淆没有办法通过</p>
<blockquote>
<p>-dontwarn java.lang.invoke.<strong><br>-keep class java.lang.invoke.</strong>(*;);</p>
</blockquote>

          
        
      
    </div>
    
    
    
	
	<div>
		
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/17/4_测试文章密码功能/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JunBoXu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LgStars">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/17/4_测试文章密码功能/" itemprop="url">测试文章加密功能</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-17T12:30:00+08:00">
                2018-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/功能/" itemprop="url" rel="index">
                    <span itemprop="name">功能</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/17/4_测试文章密码功能/" class="leancloud_visitors" data-flag-title="测试文章加密功能">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
				 <span>°C</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    
	
	<div>
		
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/me.png"
                alt="JunBoXu" />
            
              <p class="site-author-name" itemprop="name">JunBoXu</p>
              <p class="site-description motion-element" itemprop="description">时间就像海绵里的水，只要愿挤，总还是有的。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/LGStars" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:3398334198@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        ﻿<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JunBoXu</span>

  
</div>

<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_pv"></span>
</span>
</div>

<!-- 
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>
  -->



<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("SkmdmHS8m1n0yBfk0jX7cWzC-gzGzoHsz", "LgApVDF1nFNibYvaiOFMllmk");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

  
  
</body>

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
</html>
